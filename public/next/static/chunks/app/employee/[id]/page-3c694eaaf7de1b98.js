(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{4:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),n=s(2115);s(6229);var a=s(6874),o=s.n(a),l=s(6766);function i(e){let{params:t}=e,[s,a]=(0,n.useState)(null),[i,c]=(0,n.useState)(!0),[d,h]=(0,n.useState)(null),[m,x]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{try{c(!0);let e=await fetch("/api/employees/".concat(t.id));if(!e.ok){404===e.status?h("Employee not found"):h("Failed to load employee data"),a(null),c(!1);return}let s=await e.json();a(s.employee),u(s.employee)}catch(e){console.error("Error fetching employee:",e),h("An error occurred while loading employee data"),a(null)}finally{c(!1)}})()},[t.id]);let u=e=>{let t="BEGIN:VCARD\n";t+="VERSION:3.0\n",t+="FN:".concat(e.name,"\n"),t+="ORG:".concat(e.company,"\n"),t+="TITLE:".concat(e.position,"\n"),e.phone&&(t+="TEL;TYPE=CELL:".concat(e.phone,"\n")),e.workPhone&&(t+="TEL;TYPE=WORK:".concat(e.workPhone,"\n")),e.email&&(t+="EMAIL:".concat(e.email,"\n")),e.website&&(t+="URL:".concat(e.website,"\n")),x(t+="END:VCARD")};return i?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading contact information..."})]})}):d||!s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center max-w-md p-6 bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-500 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Contact Not Found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:d||"The contact information you're looking for doesn't exist or has been removed."}),(0,r.jsx)(o(),{href:"/",className:"inline-block bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Go Back Home"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"bg-gray-900 text-white p-6 text-center relative overflow-hidden",style:{backgroundColor:s.backgroundColor},children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-1",children:s.name}),(0,r.jsx)("p",{className:"text-lg",children:s.position}),(0,r.jsx)("p",{className:"text-base",children:s.company}),(0,r.jsx)("div",{className:"absolute -bottom-3 -right-3 w-24 h-24 bg-white/10 rounded-full z-0"}),(0,r.jsx)("div",{className:"absolute -top-3 -left-3 w-16 h-16 bg-white/10 rounded-full z-0"})]}),(0,r.jsx)("div",{className:"relative z-10 -mt-12 flex justify-center pt-14",children:(0,r.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-2 border-white shadow-sm bg-white",children:s.photo?(0,r.jsx)(l.default,{src:s.photo,alt:s.name,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-500 text-lg",children:s.name.charAt(0)})})})}),(0,r.jsxs)("div",{className:"max-w-md mx-auto p-4 mb-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[s.phone&&(0,r.jsxs)("a",{href:"tel:".concat(s.phone),className:"bg-gray-900 text-white rounded-lg p-3 flex flex-col items-center justify-center text-center transition-all hover:-translate-y-1 hover:shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,r.jsx)("span",{children:"Phone"})]}),s.email&&(0,r.jsxs)("a",{href:"mailto:".concat(s.email),className:"bg-gray-900 text-white rounded-lg p-3 flex flex-col items-center justify-center text-center transition-all hover:-translate-y-1 hover:shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,r.jsx)("span",{children:"Email"})]}),s.website&&(0,r.jsxs)("a",{href:s.website.startsWith("http")?s.website:"https://".concat(s.website),target:"_blank",rel:"noopener noreferrer",className:"bg-gray-900 text-white rounded-lg p-3 flex flex-col items-center justify-center text-center transition-all hover:-translate-y-1 hover:shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),(0,r.jsx)("span",{children:"Website"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-5",children:[s.phone&&(0,r.jsxs)("div",{className:"flex items-center p-3 border-b border-gray-100",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Phone (Mobile)"}),(0,r.jsx)("p",{className:"font-medium",children:s.phone})]})]}),s.workPhone&&(0,r.jsxs)("div",{className:"flex items-center p-3 border-b border-gray-100",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Phone (Work)"}),(0,r.jsx)("p",{className:"font-medium",children:s.workPhone})]})]}),s.email&&(0,r.jsxs)("div",{className:"flex items-center p-3",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,r.jsx)("p",{className:"font-medium",children:s.email})]})]})]}),(0,r.jsxs)("button",{onClick:()=>{let e=new Blob([m],{type:"text/vcard"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="".concat((null==s?void 0:s.name)||"contact",".vcf"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center hover:bg-gray-700 transition-colors",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Save to contacts"]})]})]})}},6198:(e,t,s)=>{Promise.resolve().then(s.bind(s,4))},6229:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});let r={name:"",company:"",position:"",phone:"",workPhone:"",email:"",website:"",photo:null,backgroundType:"solid",backgroundColor:"#222326"}}},e=>{var t=t=>e(e.s=t);e.O(0,[259,441,684,358],()=>t(6198)),_N_E=e.O()}]);