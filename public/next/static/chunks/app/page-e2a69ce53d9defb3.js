(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{439:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var o=s(5155),l=s(2115),a=s(6670),t=s(1857),n=s(6229);function i(){let[e,r]=(0,l.useState)(n.O),[s,i]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[g,x]=(0,l.useState)(!1),u=(0,l.useRef)(null);(0,l.useEffect)(()=>{b()},[]);let b=()=>{let e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);c(e);let r=window.location.origin;return h("".concat(r,"/employee/").concat(e)),e},p=e=>{let{name:s,value:o}=e.target;r(e=>({...e,[s]:o}))},f=e=>{r(r=>({...r,backgroundType:e}))},v=r=>{if(u.current){let r=u.current.querySelector("canvas");if(r){let s=r.toDataURL("image/png"),o=document.createElement("a");o.download="".concat(e.name||"employee","_qrcode.png"),o.href=s,o.click()}else{let r=u.current.querySelector("svg");if(r){let s=new XMLSerializer().serializeToString(r),o=document.createElement("canvas"),l=o.getContext("2d"),a=new Image;a.onload=()=>{o.width=a.width,o.height=a.height,null==l||l.drawImage(a,0,0);let r=o.toDataURL("image/png"),s=document.createElement("a");s.download="".concat(e.name||"employee","_qrcode.png"),s.href=r,s.click()},a.src="data:image/svg+xml;base64,"+btoa(s)}}}},j=async()=>{try{x(!0);let s=b();if(!(await fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,data:e})})).ok)throw Error("Failed to save employee data");localStorage.setItem("employee_".concat(s),JSON.stringify(e)),v(s),r({...n.O}),alert("Employee vCard created! It is accessible at: ".concat(window.location.origin,"/employee/").concat(s,"\nQR Code has been downloaded."))}catch(e){console.error("Error saving employee:",e),alert("Failed to save employee data. Please try again.")}finally{x(!1)}};return(0,o.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("div",{className:"bg-gray-900 p-2 flex justify-center items-center mb-5",children:(0,o.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"ICT Chamber  vCard"})}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 bg-[#e9eef2] p-12",children:[(0,o.jsxs)("div",{className:"lg:col-span-2 space-y-5",children:[(0,o.jsxs)("div",{className:"bg-white p-5 rounded-lg  mb-5",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-800 border-b pb-2",children:"Personal Information"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"John Doe"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,o.jsx)("input",{type:"text",id:"company",name:"company",value:e.company,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"Company Name"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,o.jsx)("input",{type:"url",id:"website",name:"website",value:e.website,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"https://www.example.com"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,o.jsx)("input",{type:"text",id:"position",name:"position",value:e.position,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"Job Title"})]})]})]}),(0,o.jsxs)("div",{className:"bg-white p-5 rounded-lg  mb-5",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-800 border-b pb-2",children:"Contacts"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Phone"}),(0,o.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"Phone Number"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"workPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Phone"}),(0,o.jsx)("input",{type:"tel",id:"workPhone",name:"workPhone",value:e.workPhone,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"Work Phone"})]})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:p,className:"w-full p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors",placeholder:"Email Address"})]})]}),(0,o.jsxs)("div",{className:"bg-white p-5 rounded-lg  mb-5",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-800 border-b pb-2",children:"Photo"}),(0,o.jsxs)("div",{className:"border border-gray-100 rounded-lg p-4 text-center",children:[(0,o.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden border border-gray-200 bg-gray-100",children:e.photo?(0,o.jsx)("img",{src:e.photo,alt:"Employee",className:"w-full h-full object-cover"}):(0,o.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Photo"})}),(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsxs)("label",{className:"bg-blue-500 text-white px-3 py-1.5 rounded-md text-sm font-medium hover:bg-blue-600 cursor-pointer transition-colors",children:["Upload",(0,o.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;let o=null==(s=e.target.files)?void 0:s[0];if(o){let e=new FileReader;e.onloadend=()=>{r(r=>({...r,photo:e.result}))},e.readAsDataURL(o)}}})]}),(0,o.jsx)("button",{onClick:()=>{r(e=>({...e,photo:null}))},className:"ml-2 bg-gray-100 text-gray-700 px-3 py-1.5 rounded-md text-sm font-medium hover:bg-gray-200 transition-colors",children:"Clear"})]})]})]}),(0,o.jsxs)("div",{className:"bg-white p-5 rounded-lg  mb-5",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-800 border-b pb-2",children:"Background Color"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",checked:"solid"===e.backgroundType,onChange:()=>f("solid"),className:"mr-2"}),"Solid Color"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",checked:"gradient"===e.backgroundType,onChange:()=>f("gradient"),className:"mr-2"}),"Gradient"]})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-md border border-gray-100 cursor-pointer transition-transform hover:scale-105",style:{backgroundColor:e.backgroundColor},onClick:()=>i(!s)}),(0,o.jsx)("input",{type:"text",value:e.backgroundColor,onChange:e=>r(r=>({...r,backgroundColor:e.target.value})),className:"w-full max-w-xs p-2 border border-gray-100 rounded-md  focus:ring-1 focus:ring-blue-200 focus:border-blue-200 transition-colors"})]}),s&&(0,o.jsx)("div",{className:"absolute z-10 mt-2 bg-white rounded-lg  p-2 border border-gray-200",children:(0,o.jsx)(a.jI,{color:e.backgroundColor,onChange:e=>r(r=>({...r,backgroundColor:e}))})})]})]})]})]}),(0,o.jsx)("div",{className:"lg:col-span-1",children:(0,o.jsx)("div",{className:"sticky top-6",children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsxs)("div",{className:"w-[260px] h-[520px] rounded-[30px] overflow-hidden relative shadow-md border-4 border-gray-900 mx-auto bg-white transition-transform hover:-translate-y-1",children:[(0,o.jsxs)("div",{className:"bg-gray-900 text-white p-5 text-center relative overflow-hidden",style:{backgroundColor:e.backgroundColor},children:[(0,o.jsx)("h2",{className:"text-xl font-bold",children:e.name||"Your Name"}),(0,o.jsx)("p",{className:"text-sm",children:e.position||"Position"}),(0,o.jsx)("p",{className:"text-sm mt-1",children:e.company||"Company"}),(0,o.jsx)("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 bg-white/10 rounded-full z-0"})]}),(0,o.jsxs)("div",{className:"p-4 bg-white h-[calc(100%-110px)] overflow-y-auto pt-14",children:[(0,o.jsx)("div",{className:"w-32 h-32 rounded-full -mt-12 mb-4 mx-auto overflow-hidden border-2 border-white  relative z-10 bg-gray-100",children:e.photo?(0,o.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"}):(0,o.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-gray-500",children:"Photo"})})}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-5",children:[(0,o.jsxs)("div",{className:"bg-gray-900 text-white rounded-lg p-2 flex flex-col items-center justify-center text-xs transition-all hover:-translate-y-0.5 hover:",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),(0,o.jsxs)("div",{className:"bg-gray-900 text-white rounded-lg p-2 flex flex-col items-center justify-center text-xs transition-all hover:-translate-y-0.5 hover:",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email"]}),(0,o.jsxs)("div",{className:"bg-gray-900 text-white rounded-lg p-2 flex flex-col items-center justify-center text-xs transition-all hover:-translate-y-0.5 hover:",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),"Website"]})]}),e.phone&&(0,o.jsxs)("div",{className:"flex items-center p-2 mb-2 rounded-lg bg-gray-50 transition-colors hover:bg-gray-100",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-0.5",children:"Phone (Mobile)"}),(0,o.jsx)("p",{className:"text-sm font-medium",children:e.phone})]})]}),e.workPhone&&(0,o.jsxs)("div",{className:"flex items-center p-2 mb-2 rounded-lg bg-gray-50 transition-colors hover:bg-gray-100",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-0.5",children:"Phone (Work)"}),(0,o.jsx)("p",{className:"text-sm font-medium",children:e.workPhone})]})]}),(0,o.jsxs)("button",{className:"w-full flex items-center justify-center bg-gray-50 border border-gray-200 rounded-lg p-2 mt-4 text-sm font-medium transition-all hover:bg-gray-100 hover:",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Save to contacts"]})]})]}),(0,o.jsxs)("div",{className:"text-center p-4 bg-white rounded-lg  mt-5",ref:u,children:[(0,o.jsx)("h3",{className:"font-medium mb-2 text-sm",children:"QR Code"}),(0,o.jsx)("div",{className:"inline-block border border-gray-200 p-3 rounded-lg bg-white my-2",children:(0,o.jsx)(t.h,{value:m,size:130,level:"H"})}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Scan to view vCard"})]})]})})})]}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsx)("button",{className:"px-5 py-2 bg-gray-600 text-white rounded-md font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors ".concat(g?"opacity-75 cursor-not-allowed":""),onClick:j,disabled:g,children:g?"Saving...":"Save vCard & Download QR"})})]})}},6229:(e,r,s)=>{"use strict";s.d(r,{O:()=>o});let o={name:"",company:"",position:"",phone:"",workPhone:"",email:"",website:"",photo:null,backgroundType:"solid",backgroundColor:"#222326"}},8645:(e,r,s)=>{Promise.resolve().then(s.bind(s,439))}},e=>{var r=r=>e(e.s=r);e.O(0,[134,441,684,358],()=>r(8645)),_N_E=e.O()}]);